(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){e.exports=a(134)},107:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),c=(a(107),a(78)),l=a(79),s=a(93),u=a(80),d=a(94),p=a(92),m=a(185),f=a(180),g=a(13),h=a(11),b=a(140),v=a(141),E=a(165),w=a(166),O=a(57),y=a(167),j=a(170),x=a(169),k=a(173),S=a(183),C=a(45),N=a.n(C),U=(a(112),a(73),a(114),a(115),{apiKey:"AIzaSyCNrWqbvDNEp53wNfDtDMqfZbgStsJEM-E",authDomain:"paiweb.firebaseapp.com",databaseURL:"https://paiweb.firebaseio.com",projectId:"paiweb",storageBucket:"paiweb.appspot.com",messagingSenderId:"560094021764",appId:"1:560094021764:web:d9efaf85f4747eb1"}),T={apiKey:U.apiKey,authDomain:U.authDomain,databaseURL:U.databaseUrl,projectId:U.projectId,storageBucket:U.storageBucket,messagingSenderId:U.messagingSenderId,appId:U.appId};N.a.initializeApp(T),N.a.firestore().enablePersistence().catch(function(e){"failed-precondition"===e.code||e.code});var I=N.a,R=N.a.firestore(),D=function(){return{type:"LOGOUT",payload:{}}},L=function(e){return{type:"CHANGE_GROUP",payload:{currentGroup:e}}},P=function(){return{type:"SET_POSTS",payload:{allPosts:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}},B=Object(v.a)({root:{},grow:{flexGrow:1},avatar:{margin:0,padding:0,height:"24px",width:"24px"}})(function(e){var t=e.classes,a=r.a.useState(null),n=Object(g.a)(a,2),o=n[0],i=n[1],c=Boolean(o),l=Object(h.c)(function(e){return e.user}),s=Object(h.b)();return r.a.createElement("div",{className:t.root},r.a.createElement(E.a,{position:"static"},r.a.createElement(w.a,null,r.a.createElement(O.a,{variant:"h6",color:"inherit",className:t.grow},"Pai"),r.a.createElement(y.a,{color:"inherit",onClick:function(e){l.authenticated&&i(e.currentTarget)}},l.authenticated?r.a.createElement(x.a,{alt:"Remy Sharp",src:l.data.photoURL,className:t.avatar}):r.a.createElement(j.a,null,"account_circle")),r.a.createElement(S.a,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:function(){i(null)}},r.a.createElement(k.a,{onClick:function(){i(null),I.auth().signOut(),s(D())}},"Sign out")))))}),A=Object(v.a)(function(e){return{appBar:{top:"auto",bottom:0},toolbar:{alignItems:"center",justifyContent:"space-between"}}})(function(e){var t=e.classes;return r.a.createElement(E.a,{position:"sticky",color:"primary",className:t.appBar},r.a.createElement(w.a,{className:t.toolbar,variant:"dense"},r.a.createElement(y.a,{color:"inherit","aria-label":"Open drawer",onClick:e.toggleDrawer(!0)},r.a.createElement(j.a,null,"menu")),e.camera))}),W=(a(66),a(85),a(86)),F=function(e){var t=((new Date).getTime()-e.getTime())/1e3;return t<60?parseInt(t)+"s":t<3600?parseInt(t/60)+"m":t<=172800?parseInt(t/3600)+"h":t>86400?"< 2 days":void 0},z=function(e){var t=100-((new Date).getTime()/1e3-e.getTime()/1e3)/86400*100;return t<0?0:t>100?100:t},G=function(e,t,a,n,r){var o="images/"+t.uid+"/"+function(e){return Date.now()+e.name.substr(e.name.lastIndexOf("."))}(e);I.storage().ref(o).put(e,{cacheControl:"max-age=432001",contentType:e.type}).on("state_changed",function(e){},function(e){},function(){_(o,t,a,n,r)})},_=function(e,t,a,n,r){R.collection("posts").add({uid:t.uid,userPhotoURL:t.photoURL,imgRef:e,timestamp:I.firestore.FieldValue.serverTimestamp(),groupIds:a,groupUserIds:n}).then(function(e){V(t.uid).then(function(){r()})}).catch(function(e){console.error("Error adding document: ",e)})},V=function(e){return R.collection("users").doc(e).update({lastUpdate:I.firestore.FieldValue.serverTimestamp()})},M=function(e){return R.collection("posts").where("timestamp",">",new Date(Date.now()-864e5)).where("groupUserIds","array-contains",e).orderBy("timestamp","desc").limit(15).get().then(function(e){var t=[];return e.forEach(function(e){t.push(e.data())}),t})},q=function(e){return R.collection("posts").where("timestamp",">",new Date(new Date-864e5)).where("uid","==",e).orderBy("timestamp","desc").limit(1).get().then(function(e){var t;return e.forEach(function(e){t=e.data()}),t})},H=a(87),J=a.n(H),K=a(88),Y=a.n(K),$=a(174),Z=Object(b.a)(function(e){return{imgDiv:{borderRadius:"4px",minHeight:"250px",maxHeight:"75vh",maxWidth:"450px",overflow:"hidden"},img:{borderRadius:"4px",boxShadow:"0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12)"},progressWrapper:{widh:"100%",height:"250px",display:"flex",justifyContent:"center",alignItems:"center"},progress:{color:e.palette.color.main}}}),Q=function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),o=a[0],i=a[1],c=Object(n.useState)(!1),l=Object(g.a)(c,2),s=l[0],u=l[1];Object(n.useEffect)(function(){return p(e.imageRef)},[e.imageRef]);var d=Z(),p=function(e){(function(e){if(e)return I.storage().ref(e).getDownloadURL().then(function(e){return e})})(e).then(function(e){return i(e)})};return r.a.createElement(Y.a,{onChange:function(t){u(t),t&&e.renderNextImages(e.index)},active:!s},r.a.createElement("div",{className:d.imgDiv},e.index<=e.renderImages?r.a.createElement(J.a,{width:"100%",height:"auto",src:o,alt:"image post",className:d.img,loader:r.a.createElement("div",{className:d.progressWrapper},r.a.createElement($.a,{className:d.progress}))}):""))},X=a(139),ee=Object(X.a)(function(e){return{progress:{marginLeft:"5px",color:e.palette.color.main,zIndex:2},innerProgress:{position:"relative",marginLeft:"-16px",color:e.palette.gray.main,zIndex:1}}}),te=function(e){var t=ee(),a=e.timestamp;return r.a.createElement(n.Fragment,null,r.a.createElement(O.a,{variant:"caption"},F(a.toDate())),r.a.createElement($.a,{color:"primary",variant:"static",value:z(a.toDate()),className:t.progress,size:16}),r.a.createElement($.a,{variant:"static",value:100,className:t.innerProgress,size:16}))},ae=Object(b.a)(function(e){return{root:{scrollSnapAlign:"start",padding:"0px",height:"82vh",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},postWrapper:{width:"100%",maxWidth:"450px"},avatar:{border:"2px solid #fafafa",marginLeft:"6px"},avatarTimeDiv:{display:"flex",marginBottom:"-21px"}}}),ne=function(e){var t=ae();return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.postWrapper},r.a.createElement("div",{className:t.avatarTimeDiv},r.a.createElement(x.a,{className:t.avatar,alt:"Post Avatar",src:e.post.userPhotoURL}),r.a.createElement(te,{timestamp:e.post.timestamp})),r.a.createElement(Q,{imageRef:e.post.imgRef,renderNextImages:e.renderNextImages,renderImages:e.renderImages,index:e.index})))},re=Object(b.a)(function(e){return{root:{padding:"0px",height:"78vh",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center"},"@keyframes arrowAnimation":{from:{transform:"translateY(0)"},to:{transform:"translateY(30px)"}},icon:{position:"relative",fontSize:"65px",animation:"$arrowAnimation 2s infinite alternate"}}}),oe=function(){var e=re();return r.a.createElement("div",{className:e.root},r.a.createElement("div",null),r.a.createElement("span",null,r.a.createElement(O.a,{align:"center",variant:"h4"},"Show friends what you are up to.",r.a.createElement("br",null)," Post a picture.")),r.a.createElement(j.a,{color:"disabled",className:e.icon,fontSize:"large"},"arrow_downward"))},ie=a(138),ce=function(e){var t=le();return e.members.map(function(e,a){return r.a.createElement(x.a,{key:"key"+a,alt:"Avatar photo",src:e.photoURL,className:t.avatar})})},le=Object(b.a)(function(e){return{groupWrapper:{display:"flex",width:"100%"},avatar:{marginLeft:"-6px",border:"2px solid white"},listItemWrapper:{display:"flex"},leftAvatarsLine:{width:"100%",borderTop:"1px solid white",marginLeft:"8px",marginTop:"35px",height:"16px"},rightAvatarsLine:{width:"100%",borderTop:"1px solid white",marginRight:"8px",marginTop:"35px",height:"16px"}}}),se=function(e){var t=e.group,a=le();return r.a.createElement("div",{className:a.groupWrapper},r.a.createElement("div",{className:a.leftAvatarsLine}),r.a.createElement("div",{className:a.listItemWrapper},r.a.createElement(ie.a,null,ce(t))),r.a.createElement("div",{className:a.rightAvatarsLine}))},ue=Object(b.a)(function(e){return{feedWrapper:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:e.palette.background.main},feedTopDiv:{scrollSnapAlign:"end"}}}),de=function(e){var t=Object(n.useState)(!0),a=Object(g.a)(t,2),o=a[0],i=a[1],c=Object(n.useState)(!0),l=Object(g.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(2),p=Object(g.a)(d,2),m=p[0],f=p[1],b=ue(),v=Object(h.c)(function(e){return e.user}),E=Object(h.c)(function(e){return e.feed}),w=Object(h.c)(function(e){return e.groups}),y=Object(h.b)(),j=function(e){f(e+2)};Object(n.useEffect)(function(){e.gotLatestPost?(e.latestValidPost?(i(!0),M(v.data.uid).then(function(e){y(P(e))})):i(!1),u(!1)):u(!0)},[e.latestValidPost,e.gotLatestPost,v,y]),Object(n.useEffect)(function(){e.updateFeed&&(M(v.data.uid).then(function(e){return y(P(e))}),i(!0))},[e.updateFeed,v,y]);var x=function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement(se,{key:"key"+t,group:e}),k(e.id))},k=function(e){return E.allPosts.filter(function(t){return t.groupIds.includes(e)}).map(function(e,t){return r.a.createElement(ne,{key:"post"+t,renderNextImages:j,renderImages:m,index:t,post:e})})};return r.a.createElement("div",{className:b.feedWrapper},r.a.createElement("div",{className:b.feedTopDiv}),s?r.a.createElement(O.a,{variant:"subtitle1"},"loading"):o?w.map(function(e,t){return x(e,t)}):r.a.createElement(oe,null))},pe=a(182),me=a(184),fe=a(175);function ge(e){return r.a.createElement(fe.a,Object.assign({},e,{direction:"right"}))}var he=function(e){return r.a.createElement(me.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:1300,open:e.showSnackBar,onClose:e.handleCloseSnackBar,TransitionComponent:ge,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},e.snackBarText),action:[r.a.createElement(y.a,{key:"close","aria-label":"close",color:"inherit",onClose:e.handleCloseSnackBar},r.a.createElement(j.a,null,"close"))]})},be=a(176),ve=function(){var e=Object(h.c)(function(e){return e.user});return r.a.createElement(n.Fragment,null,"CtJDRqu7FUf6OReDg8ztcTo1wmv2"===e.data.uid?r.a.createElement(be.a,{color:"secondary",onClick:function(){e.authenticated&&e.data&&function(e){R.collection("groups").add({uidList:[e.uid],members:[{uid:e.uid,photoURL:e.photoURL,displayName:e.displayName}]})}(e.data)}},"Create Group ",r.a.createElement(j.a,null,"add")):"")},Ee=a(172),we=Object(b.a)(function(e){return{loadingText:{marginLeft:"16px"},avatar:{marginLeft:"-6px",border:"2px solid white"},groupButtonWrapper:{display:"flex",alignItems:"center"}}}),Oe=function(){var e=we(),t=Object(h.c)(function(e){return e.groups}),a=Object(h.c)(function(e){return e.user}),n=Object(h.b)(),o=function(t,n){return r.a.createElement("div",{key:"key"+n,className:e.groupButtonWrapper},r.a.createElement(ie.a,{button:!0,onClick:function(){return l(t)}},i(t)),"CtJDRqu7FUf6OReDg8ztcTo1wmv2"===a.data.uid?r.a.createElement(y.a,{onClick:function(){return c(t.id)}},r.a.createElement(j.a,null,"group_add")):"")},i=function(t){return t.members.map(function(t,a){return r.a.createElement(x.a,{key:"key"+a,alt:"Avatar photo",src:t.photoURL,className:e.avatar})})},c=function(e){var t=window.location.href+"?groupId="+e;navigator.clipboard.writeText(t).then(function(){},function(e){console.error("Async: Could not copy text: ",e)})},l=function(e){n(L(e))};return r.a.createElement(Ee.a,null,t?t.map(function(e,t){return o(e,t)}):r.a.createElement(O.a,{variant:"body2",color:"inherit",className:e.loadingText},"loading groups.."))},ye=a(178),je=a(177),xe=Object(b.a)(function(e){return{list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.main}}}),ke=function(e){var t=Object(h.c)(function(e){return e.feed}),a=t.currentGroup.members,n=t.allPosts,o=xe(),i=function(t){(function(e){var t=I.functions().httpsCallable("sendPushNotificationTest");return t({toUid:e})})(t).then(function(t){var a=t.data?"Sent Notification!":"Couldn't send notification";e.setShowSnackBar(!0,a)})},c=function(e,t){return r.a.createElement(ie.a,{key:t+"1",button:!0,onClick:function(){return i(e.uid)}},r.a.createElement(je.a,null,r.a.createElement(x.a,{alt:"Avatar photo",src:e.photoURL})),r.a.createElement(ye.a,{primary:e.displayName,secondary:l(e.uid,n)}))},l=function(e,t){if(e&&t){var a=t.filter(function(t){return t.uid===e}).sort(function(e,t){return e.timestamp.toDate().getTime()-t.timestamp.toDate().getTime()});return a[0]?F(a[a.length-1].timestamp.toDate()):"\ud83d\ude34"}};return r.a.createElement(Ee.a,{dense:!0,className:o.list},a?a.map(function(e,t){return c(e,t)}):r.a.createElement("p",null,"..."))},Se=Object(b.a)(function(e){return{drawerList:{height:"100%",width:"250px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:e.palette.background.main}}}),Ce=function(e){var t=e.open,a=e.toggleDrawer,o=Se(),i=Object(n.useState)(!1),c=Object(g.a)(i,2),l=c[0],s=c[1],u=Object(n.useState)("Push Notification"),d=Object(g.a)(u,2),p=d[0],m=d[1];return r.a.createElement(n.Fragment,null,r.a.createElement(he,{handleCloseSnackBar:function(){s(!1)},showSnackBar:l,snackBarText:p}),r.a.createElement(pe.a,{open:t,onClose:a(!1),onOpen:a(!0)},r.a.createElement("div",{tabIndex:0,role:"button",onClick:a(!1),onKeyDown:a(!1),className:o.drawerList},r.a.createElement(ke,{setShowSnackBar:function(e,t){s(e),m(t)}}),r.a.createElement(Oe,null),r.a.createElement(ve,null),r.a.createElement(O.a,{variant:"body2",gutterBottom:!0},"Beta v.0.1.4"))))},Ne=a(179),Ue=Object(v.a)(function(e){return{fabButton:{position:"absolute",zIndex:2,top:"-29px",left:0,right:0,margin:"0 auto"},fabProgress:{position:"absolute",zIndex:1,top:-34,left:0,right:0,margin:"0 auto",color:e.palette.color.main},hide:{display:"none"}}})(function(e){var t=e.classes,a=Object(n.createRef)(),o=Object(n.useState)(0),i=Object(g.a)(o,2),c=i[0],l=i[1],s=r.a.useState(!1),u=Object(g.a)(s,2),d=u[0],p=u[1],m=Object(h.c)(function(e){return e.user});Object(n.useEffect)(function(){e.latestValidPost?l(z(e.latestValidPost.timestamp.toDate())):l(0)},[e.latestValidPost]);function f(e,t){"clickaway"!==t&&p(!1)}return r.a.createElement("div",null,r.a.createElement("span",{className:t.hide},r.a.createElement("input",{type:"file",accept:"image/*",capture:!0,onChange:function(t){return e.handleFile(t)},ref:a})),r.a.createElement(Ne.a,{"aria-label":"Add",className:t.fabButton,size:"large",onClick:function(){m.authenticated?a.current.click():p(!0)}},r.a.createElement(j.a,null,"photo_camera")),r.a.createElement($.a,{size:66,variant:e.showUploadLoader?"indeterminate":"static",value:c,className:t.fabProgress}),r.a.createElement(me.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},message:r.a.createElement("span",{id:"message-id"},"Login to post pictures"),open:d,autoHideDuration:1e4,onClose:f,action:r.a.createElement(y.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:f},r.a.createElement(j.a,null,"close"))}))}),Te=a(89),Ie=a.n(Te),Re=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),o=a[0],i=a[1],c=Object(h.b)(),l={signInFlow:"popup",signInOptions:[I.auth.FacebookAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}};return Object(n.useEffect)(function(){var e=I.auth().onAuthStateChanged(function(e){c(function(e){return{type:"SET_USER",payload:{user:e}}}(e)),e||i(!0)});return function(){e()}},[]),r.a.createElement("div",null,o?r.a.createElement(Ie.a,{uiConfig:l,firebaseAuth:I.auth()}):r.a.createElement(O.a,{variant:"subtitle1",style:{textAlign:"center"}},"loading"))},De=Object(b.a)(function(e){return{App:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between",maxWidth:"800px",width:"100%"}}}),Le=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),o=a[0],i=a[1],c=Object(n.useState)(""),l=Object(g.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(),p=Object(g.a)(d,2),m=p[0],f=p[1],b=Object(n.useState)(!1),v=Object(g.a)(b,2),E=v[0],w=v[1],O=Object(n.useState)(!1),y=Object(g.a)(O,2),j=y[0],x=y[1],k=Object(n.useState)(0),S=Object(g.a)(k,2),C=S[0],N=S[1],U=De(),T=Object(h.b)(),D=Object(h.c)(function(e){return e.user}),P=Object(h.c)(function(e){return e.groups}),F=function(e){return function(){i(e)}};Object(n.useEffect)(function(){D.authenticated&&q(D.data.uid).then(function(e){f(e),w(!0)})},[D]),Object(n.useEffect)(function(){var t,a;D.authenticated&&e.FCMToken&&(t=e.FCMToken,a=D.data.uid,R.collection("users").doc(a).update({FCMToken:t}))},[D,e.FCMToken]),Object(n.useEffect)(function(){var e=new URL(window.location.href).searchParams.get("groupId");e&&D.authenticated&&(window.history.pushState({},"","/"),function(e,t){R.collection("groups").doc(e).update({uidList:I.firestore.FieldValue.arrayUnion(t.uid),members:I.firestore.FieldValue.arrayUnion({uid:t.uid,photoURL:t.photoURL,displayName:t.displayName})})}(e,D.data))},[D,D.authenticated]),Object(n.useEffect)(function(){var e;D.authenticated&&D.data&&(e=D.data.uid,R.collection("groups").where("uidList","array-contains",e).get().then(function(e){var t=[];return e.forEach(function(e){var a=e.data();a.id=e.id,t.push(a)}),t})).then(function(e){T(function(e){return{type:"SET_GROUPS",payload:{groups:e}}}(e)),T(L(e[0]))})},[D,T]);var z=function(e){return e.map(function(e){return e.id})},_=function(e){var t=[];return e.forEach(function(e){t=t.concat(e.uidList.filter(function(e){return t.indexOf(e)<0}))}),t},V=function(){x(!1),N(C+1),q(D.data.uid).then(function(e){f(e),w(!0)})};return r.a.createElement("div",{className:U.App},r.a.createElement(B,null),D.authenticated?r.a.createElement(n.Fragment,null,r.a.createElement(Ce,{open:o,toggleDrawer:F}),r.a.createElement(de,{imagePreviewUrl:s,latestValidPost:m,gotLatestPost:E,updateFeed:C})):r.a.createElement(Re,null),r.a.createElement(A,{toggleDrawer:F,camera:r.a.createElement(Ue,{showUploadLoader:j,handleFile:function(e){var t=e.target.files[0];if(t||!D.authenticated){x(!0);var a=z(P),n=_(P);!function(e,t){e&&new W.a(e,{quality:.5,width:512,success:function(e){t(e)},error:function(e){console.log(e.message)}})}(t,function(e){u(URL.createObjectURL(e)),G(e,D.data,a,n,V)})}},latestValidPost:m})}))},Pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Be(e){if("serviceWorker"in navigator){if(new URL("/paiweb",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/paiweb","/service-worker.js");Pe?(!function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ae(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Ae(t,e)})}}function Ae(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var We=function(e){return r.a.createElement("div",null,r.a.createElement(me.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:e.showUpdateSnackBar,onClose:e.handleCloseSnackBar,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"New Update! Restart the app")}))};var Fe=a(90),ze=a.n(Fe),Ge=a(42),_e=[],Ve=a(46),Me={authenticated:!1,data:{}},qe={currentGroup:"",allPosts:[]},He=Object(Ge.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":var a=t.payload.user;return Object(Ve.a)({},e,{authenticated:!!a,data:a});case"LOGOUT":return Object(Ve.a)({},e,{authenticated:!1,data:{}});default:return e}},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GROUPS":return t.payload.groups;default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_GROUP":var a=t.payload.currentGroup;return Object(Ve.a)({},e,{currentGroup:a});case"SET_POSTS":var n=t.payload.allPosts;return Object(Ve.a)({},e,{allPosts:n});default:return e}}}),Je=Object(Ge.c)(He),Ke=ze.a.messaging(),Ye=Object(p.a)({palette:{type:"dark",background:{main:"#000000"},primary:{main:"#000000"},secondary:{main:"#ffffff"},color:{main:"#FF2188"},gray:{main:"#666666"}},typography:{useNextVariants:!0}}),$e=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleServiceWorkerUpdate=function(e){a.setState({showUpdateSnackBar:!0})},a.handleCloseSnackBar=function(e,t){"clickaway"!==t&&a.setState({showUpdateSnackBar:!1})},a.state={showUpdateSnackBar:!1,FCMToken:""},"serviceWorker"in navigator&&navigator.serviceWorker.register("./fbsw/firebase-messaging-sw.js").then(function(e){Ke.useServiceWorker(e),function(e){return e.requestPermission().then(function(){return e.getToken()})}(Ke).then(function(e){a.setState({FCMToken:e})}).catch(function(e){"messaging/permission-blocked"===e.code?console.log("Please Unblock Notification Request Manually"):console.log("Error Occurred",e)})}).catch(function(e){console.log("Service worker registration failed, error:",e)}),Be({onUpdate:a.handleServiceWorkerUpdate}),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{theme:Ye},r.a.createElement(f.a,null),r.a.createElement(h.a,{store:Je},r.a.createElement(Le,{FCMToken:this.state.FCMToken})),r.a.createElement(We,{handleCloseSnackBar:this.handleCloseSnackBar,showUpdateSnackBar:this.state.showUpdateSnackBar}))}}]),t}(n.Component);i.a.render(r.a.createElement($e,null),document.getElementById("root"))}},[[102,1,2]]]);
//# sourceMappingURL=main.e120fae3.chunk.js.map